import{T as D}from"./TouchPan.ea08c096.js";import{u as M,a as j}from"./use-dark.4c8cd3f0.js";import{j as B,r as v,c as i,w as C,h as o,A as h,z as I,v as O,g as L,y as Q}from"./index.7f3ba645.js";var F=B({name:"QSplitter",props:{...M,modelValue:{type:Number,required:!0},reverse:Boolean,unit:{type:String,default:"%",validator:e=>["%","px"].includes(e)},limits:{type:Array,validator:e=>e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"?!1:e[0]>=0&&e[0]<=e[1]},emitImmediately:Boolean,horizontal:Boolean,disable:Boolean,beforeClass:[Array,String,Object],afterClass:[Array,String,Object],separatorClass:[Array,String,Object],separatorStyle:[Array,String,Object]},emits:["update:modelValue"],setup(e,{slots:u,emit:n}){const{proxy:{$q:b}}=L(),x=j(e,b),s=v(null),d={before:v(null),after:v(null)},A=i(()=>`q-splitter no-wrap ${e.horizontal===!0?"q-splitter--horizontal column":"q-splitter--vertical row"} q-splitter--${e.disable===!0?"disabled":"workable"}`+(x.value===!0?" q-splitter--dark":"")),c=i(()=>e.horizontal===!0?"height":"width"),y=i(()=>e.reverse!==!0?"before":"after"),a=i(()=>e.limits!==void 0?e.limits:e.unit==="%"?[10,90]:[50,1/0]);function _(t){return(e.unit==="%"?t:Math.round(t))+e.unit}const q=i(()=>({[y.value]:{[c.value]:_(e.modelValue)}}));let g,f,V,z,r;function k(t){if(t.isFirst===!0){const m=s.value.getBoundingClientRect()[c.value];g=e.horizontal===!0?"up":"left",f=e.unit==="%"?100:m,V=Math.min(f,a.value[1],Math.max(a.value[0],e.modelValue)),z=(e.reverse!==!0?1:-1)*(e.horizontal===!0?1:b.lang.rtl===!0?-1:1)*(e.unit==="%"?m===0?0:100/m:1),s.value.classList.add("q-splitter--active");return}if(t.isFinal===!0){r!==e.modelValue&&n("update:modelValue",r),s.value.classList.remove("q-splitter--active");return}const l=V+z*(t.direction===g?-1:1)*t.distance[e.horizontal===!0?"y":"x"];r=Math.min(f,a.value[1],Math.max(a.value[0],l)),d[y.value].value.style[c.value]=_(r),e.emitImmediately===!0&&e.modelValue!==r&&n("update:modelValue",r)}const w=i(()=>[[D,k,void 0,{[e.horizontal===!0?"vertical":"horizontal"]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function S(t,l){t<l[0]?n("update:modelValue",l[0]):t>l[1]&&n("update:modelValue",l[1])}return C(()=>e.modelValue,t=>{S(t,a.value)}),C(()=>e.limits,()=>{Q(()=>{S(e.modelValue,a.value)})}),()=>{const t=[o("div",{ref:d.before,class:["q-splitter__panel q-splitter__before"+(e.reverse===!0?" col":""),e.beforeClass],style:q.value.before},h(u.before)),o("div",{class:["q-splitter__separator",e.separatorClass],style:e.separatorStyle,"aria-disabled":e.disable===!0?"true":void 0},[I("div",{class:"q-splitter__separator-area absolute-full"},h(u.separator),"sep",e.disable!==!0,()=>w.value)]),o("div",{ref:d.after,class:["q-splitter__panel q-splitter__after"+(e.reverse===!0?"":" col"),e.afterClass],style:q.value.after},h(u.after))];return o("div",{class:A.value,ref:s},O(u.default,t))}}});export{F as Q};
