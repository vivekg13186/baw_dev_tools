import{_ as f,H as g,r as _,o as C,I as h,J as w,K as b,L as l,d as t,a9 as c,Q as d,M as v}from"./index.a05dc650.js";import{Q as x}from"./QTd.522d5027.js";import{Q}from"./QTable.9c7baac6.js";import{Q as $}from"./QExpansionItem.7da6f09b.js";import{api as u}from"./axios.d8311e7a.js";import{u as k}from"./use-quasar.3bf949c1.js";import"./use-timeout.79998b8c.js";import"./use-model-toggle.763d06ad.js";const q=[{name:"name",required:!0,label:"Connection",align:"left",field:e=>e.alias,format:e=>`${e}`,sortable:!0},{name:"host",required:!0,label:"Host",align:"left",field:e=>e.host,format:e=>`${e}`,sortable:!0},{name:"user",required:!0,label:"User",align:"left",field:e=>e.username,format:e=>`${e}`,sortable:!0},{name:"actions",align:"left",label:"Actions"}],y={setup(){const e=k(),a=g(),s=_([{name:"hello"}]);function n(o){a.push(`/editConnnection/${o}`)}function m(o){a.push(`/viewApp/${o}`)}function p(o){u.get(`api/deleteConnection/${o}`).then(i=>{e.notify("Connection deleted"),r()}).catch(i=>{e.notify("Error occured while deleting connection")})}function r(){u.get("api/connections").then(o=>{console.log(o.data),s.value.splice(0,s.value.length,...o.data)})}return C(()=>{console.log("mounted"),r()}),{columns:q,rows:s,openConnectionPage:n,deleteConnection:p,openViewAppsPage:m}}},V={class:"q-pa-md column q-gutter-sm"},A={class:"col"},P={class:"col"};function B(e,a,s,n,m,p){const r=h("qpage");return w(),b(r,{padding:""},{default:l(()=>[t($,{"expand-separator":"",label:"Connections","hide-expand-icon":"","default-opened":"","header-class":"bg-primary text-white"},{default:l(()=>[c("div",V,[c("div",A,[t(d,{color:"primary",onClick:a[0]||(a[0]=o=>n.openConnectionPage("new"))},{default:l(()=>[v("New Connection")]),_:1})]),c("div",P,[t(Q,{title:"Connections",rows:n.rows,columns:n.columns,"row-key":"name"},{"body-cell-actions":l(o=>[t(x,{props:o},{default:l(()=>[t(d,{flat:"",color:"primary",size:"sm",label:"View Apps",onClick:i=>n.openViewAppsPage(o.row.alias)},null,8,["onClick"]),t(d,{flat:"",color:"red",size:"sm",label:"Delete Connection",onClick:i=>n.deleteConnection(o.row.alias)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"])])])]),_:1})]),_:1})}var J=f(y,[["render",B]]);export{J as default};
